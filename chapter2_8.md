# 2-8. 프레임워크 헥사곤 만들기

### 헥사고날 애플리케이션 만드는 단계

1) 도메인 헥사곤에 도메인 모델을 만든다.

: 엔티티, 값 객체, 명세 등

2) 애플리케이션 헥사곤에 사용자의 의도를 표현

: 유스케이스와 포트

3) 프레임워크 헥사곤에서 시스템의 기능을 노출, 사용 기술 정의

: 입력 어댑터, 출력 어댑터

### 프레임워크 헥사곤 부트스트래핑

- 헥사고날 아키텍처를 사용하면 REST나 gRPC를 사용해 시스템 API를 노출할 것인지, 시스템의 주된 데이터 소스가 MySQL 데이터베이스가 될지, 다른 NoSQL 데이터베이스가 될지 미리 결정할 필요가 없다.
    - 시스템의 내부, 혹은 외부의 기반 기술에 대한 결정을 연기할 수 있게된다.
- REST를 이용한다면 REST 입력 어댑터를 만들어 입력 포트에 연결
- gRPC를 사용한다면 gRPC 입력 어댑터를 만들어 입력 포트에 연결
- 외부 데이터 소스를 다룰때 출력 어댑터를 사용한다면 이 역시 플러그 형식으로 처리
    
    **→ 대규모 리팩토링 없이 같은 출력 포트에 다양한 출력 어댑터를 연결해서 데이터 소스 기술을 변경할 수 있다**.
    

### 출력 어댑터 구현

- 입력 어댑터 구현시 참조하기 때문에 출력 어댑터를 먼저 구현하는 것이 중요

### 입력 어댑터 구현

- 입력 어댑터의 중심적 역할은 외부 헥사고날 시스템에서 요청을 수신하고 입력 포트를 사용해 요청을 처리하는 것이다.

### 프레임워크 헥사곤 테스트하기

- 입력 어댑터와 출력 어댑터의 동작을 확인 할 뿐만 아니라 도메인 헥사곤과 애플리케이션 헥사곤 같은 다른 헥사곤이 프레임워크 헥사곤에서 나오는 요청에 대한 응답에 제대로 동작하는지도 테스트 가능하다.
-