## 01 왜 헥사고날 아키텍처인가?

### 헥사고날 아키텍처 이해
"여러분의 애플리케이션을 UI나 데이터베이스 없이 동작하도록 만드십시오. 그러면 애플리케이션에 대해 자동화된 회귀 테스트를 실행할 수 있고, 데이터베이스를 사용할 수 없을때도 동작합니다.
그리고 어떤 사용자의 개입 없이도 애플리케이션을 함계 연결 할 수 있습니다." - 알리스테어 코크번(Alistair Cockburn)

헥사고날 아키텍처의 주된 아이디어 중 하나는 비즈니스 코드를 기술 코드로 부터 분리하는 것이다.   
비즈니스 코드에 피해를 주지 않고도 기술 코드를 변경할 수 있어야 한다.  
이러한 목표를 달성하려면 비즈니스 코드가 어디에 존재해야 하는지,   
기술 문제로부터 격리되고 보호돼야 하는 위치를 결정해야한다.   
이것은 도메인 헥사곤을 생성하게 할 것이다.

<img src="https://media.geeksforgeeks.org/wp-content/uploads/20200430000449/Hexagonal-Architecture.png">

#### 도메인 헥사곤(Domain hexagon)
도메인 헥사곤에서는 소프트웨어가 해결하기를 원하는 핵심 문제를 설명하는 요소들을 결합한다.  
주된 요소는 엔티티(entity)와 값 객체(value object)  
갑 객체는 무언가 고유하게 식별할 필요 없는 경우나   
객체의 정체성 보다 속성에 관심을 갖는 경우에도 코드의 표현력을 보완하는 데 도움이 된다.   
ex) enum class 

#### 애플리케이션 헥사곤(Application hexagon)
도메인 헥사곤에서 나오는 비즈니스 규칙을 사용, 처리하고 조정하는 방법이 필요하다.  
이는 애플리케이션 헥사곤이 하는 일이다.  
애플리케이션 헥사곤은 비즈니스 측면과 기술 측면 사이에 있으며,   
양쪽과 상호작용하는 중재자 역할을 한다.  
유스케이스(Use Case), 입력 포트(Input Port), 출력 포트(Output Port)를 기반으로 이루어져 있다.

#### 프레임워크 헥사곤(Framework hexagon)
프레임워크 헥사곤은 외부 인터페이스를 제공한다.   
프레임워크 헥사곤은 애플리케이션의 기능의 노출 방법을 결정 할 수 있는 곳이다.   
외부 소스에서 무언가를 소비하기 위해 데이터베이스, 메시지 브로커 또는 다른 시스템에서 데이터를 가져오는 메커니즘을 정의하기 위해 사용한다.  
입력 어댑터(Input Adapter), 출력 어댑터(Output Adapter)를 사용한다.

### 헥사고날 접근 방식의 장점
헥사고날 아키텍처는 조직이 소프트웨어를 구성하는 기본 원칙을 수립하는 데 도움이 된다.   
프로젝트를 전환할 때마다 개발자는 이전 프로젝트에서 획득한 헥사고날 원칙에 대해 이미 알고 있기 때문에 소프트웨어가 어떤 구조로 되어 있는지 이해하기 위한 완만한 학습 곡선을 갖게 된다.

- 변경 허용  
헥사고날 아키텍처의 포트와 어댑터라는 특성은 마찰이 적고 기술 변화를 흡수할 준비가 되어 있다.

- 유지보수성  
비즈니스 규칙을 변경해야 할 경우 도메인 헥사곤만 변경하면 된다.  
지원하지 않는 특정 기술이나 프로토콜을 추가 해야한다면 프레잌워크 헥사곤에서 새로운 어댑터를 생성하기만 하면된다.

- 테스트 용이성  
헥사고날 아키텍처의 궁극적인 목표 중 하나는 UI와 데이터베이스 같은 외부 의존성이 없더라도 개발자가 애플리케이션을 테스트할 수 있게 하는 것이다. 
